<!DOCTYPE HTML>
<html lang="en-US">
<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="css/style.css" media="all"/>
</head>
<body>
<input type="hidden" id="email" value="{{ email }}">
<input type="hidden" id="password" value="{{ password }}">
<input type="hidden" id="longitude" value="{{ longitude }}">
<input type="hidden" id="latitude" value="{{ latitude }}">

<nav class="navbar navbar-expand-md bg-dark navbar-dark"
     style="z-index:100;width: 100%;position:fixed;height: 60px;background-color: #4932ff;margin:0;padding:0">
    <!-- Brand -->
    <a class="navbar-brand" style="font-size: 30px;color:white">Bootstrap</a>

    <!-- Toggler/collapsibe Button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar links -->
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/home?email=&password=" style="color: #ffffff;font-size: large">&emsp; Home </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/help?email=&password=" style="color: #ffffff;font-size: large">&emsp; Help </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="modal" data-target="#login_dialog"
                   style="color: #ffffff;font-size: large">&emsp;Log in</a>
            </li>
        </ul>
    </div>

</nav>

<!--正文内容-->
<div class="row" style="padding-top: 70px;margin-left:2.5%;width: 95%">

    <div class="col-lg-6">
        <div align="left">
            <div id="title" style="font-weight: 900;font-size: x-large"> {{ title }}</div>
        </div><!--房子标题-->
        <div style="padding-top: 20px;font-size: medium">
            <label>&#x1F6AA; {{ bedroom_number }} bedroom &emsp;</label>
            <label>&#x1F3E8; {{ bed_number }} bed &emsp;</label>
            <label>&#x1F6BD; {{ toilet_number }} toilet &emsp;</label>
            <label>&#x1F468; at most {{ guests }} person &emsp;</label>
            <label>&#x1F373; {{ cook }} allowed &emsp;</label><br>
            <label>&#x1F429; {{ pet }} allowed &emsp;</label>
            <label>&#x1F6AC; {{ smoke }} allowed &emsp;</label><br><br>
            <h4>price: $ {{ price }} per night</h4><br>
            <h4>host: {{ host }}</h4>
        </div><!--房子要求-->

        {% if image|length >0 %}
            <div style="padding-left:50px;padding-top: 20px;width: 450px" align="center"><!--房子图片-->
                <div id="demo0" class="carousel slide" data-ride="carousel" style="width: inherit"><!--id 要换才能正常显示-->
                    <!-- Indicators -->
                    <ul class="carousel-indicators">
                        <li data-target="#demo0" data-slide-to="0" class="active"></li><!--id 要换才能正常显示-->
                        {% for i in range(1,(image|length)) %}
                            <li data-target="#demo0" data-slide-to="{{ i }}"></li>
                        {% endfor %}
                    </ul>
                    <!-- The slideshow -->
                    <div class="carousel-inner" align="center">
                        <div class="carousel-item active ">
                            <img src="{{ url_for('static',filename='data/house/'+(houseid|string)+'/'+image[0]) }}"
                                 alt=""
                                 style="max-width: 600px;height: 400px">
                        </div>
                        {% for i in range(1,(image|length)) %}
                            <div class="carousel-item">
                                <img src="{{ url_for('static',filename='data/house/'+(houseid|string)+'/'+image[i]) }}"
                                     alt=""
                                     style="max-width: 600px;height: 400px">
                            </div>
                        {% endfor %}
                    </div>
                    <!-- Left and right controls -->
                    <a class="carousel-control-prev" href="#demo0" data-slide="prev"><!--id 要换才能正常显示-->
                        <span class="carousel-control-prev-icon"></span>
                    </a>
                    <a class="carousel-control-next" href="#demo0" data-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </a>
                </div>
            </div><!--房子图片-->
        {% endif %}

        {% if policy %}
            <hr align="left" style="width: 600px"><!--分隔符-->
            <label style="font-size: medium">Policy</label>
            <div>{{ policy|safe }}</div>
        {% endif %}

        <hr align="left" style="width: 600px"><!--分隔符-->
        <div class="container-fluid">
            <div class="row" style="padding-top: 5px; ">
                {% if 'Free parking on premises' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="false"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m12 0c-6.63 0-12 5.37-12 12s5.37 12 12 12 12-5.37 12-12-5.37-12-12-12zm0 23c-6.07 0-11-4.92-11-11s4.93-11 11-11 11 4.93 11 11-4.93 11-11 11zm .5-17h-4.5v11.5a.5.5 0 0 0 1 0v-4.5h3.5c1.93 0 3.5-1.57 3.5-3.5s-1.57-3.5-3.5-3.5zm0 6h-3.5v-5h3.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Free parking on premises</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Lift' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="M22.5 23H21V1h1.5a.5.5 0 0 0 0-1H.5a.5.5 0 1 0 0 1H2v22H.5a.5.5 0 1 0 0 1h22a.5.5 0 0 0 0-1zM11 3v20H3V1h8v2zm9 20h-8V1h8v22zM4.146 10.854a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 1 1-.708.708L7 9.707V14.5a.5.5 0 0 1-1 0V9.707l-1.146 1.147a.5.5 0 0 1-.708 0zm10 2a.5.5 0 1 1 .708-.708L16 13.293V8.5a.5.5 0 1 1 1 0v4.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Lift</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Wireless Internet' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m12 15a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0 5a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm5.92-5.78a.5.5 0 1 1 -.84.55c-1.19-1.81-3.07-2.77-5.08-2.77s-3.89.96-5.08 2.78a.5.5 0 0 1 -.84-.55c1.38-2.1 3.58-3.23 5.92-3.23s4.54 1.13 5.92 3.23zm2.98-3.03a.5.5 0 1 1 -.79.61c-1.66-2.14-5.22-3.8-8.11-3.8-2.83 0-6.26 1.62-8.12 3.82a.5.5 0 0 1 -.76-.65c2.05-2.42 5.75-4.17 8.88-4.17 3.19 0 7.05 1.8 8.9 4.19zm2.95-2.33a.5.5 0 0 1 -.71-.02c-2.94-3.07-6.71-4.84-11.14-4.84s-8.2 1.77-11.14 4.85a.5.5 0 0 1 -.72-.69c3.12-3.27 7.14-5.16 11.86-5.16s8.74 1.89 11.86 5.16a.5.5 0 0 1 -.02.71z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Wireless Internet</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Pool' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m12 5c-.68 0-1.35.02-2 .06v-2.57c0-.83-.67-1.5-1.5-1.5h-1a .5.5 0 1 0 0 1h1a .5.5 0 0 1 .5.5v.49l-.12.03-3.88.97v-.49c0-.83-.67-1.5-1.5-1.5h-1a .5.5 0 1 0 0 1h1a .5.5 0 0 1 .5.5v2.71c-1.86.7-3 1.66-3 2.8v11c0 2.36 4.93 4 11 4s11-1.64 11-4v-11c0-2.36-4.93-4-11-4zm-7 2v-.09c1.11-.34 2.48-.61 4-.76v.83l-.12.03-3.88.97zm.12-2.02 3.88-.97v1.13c-1.48.14-2.84.39-4 .72v-.85zm-1.12 2.28v2.73a.5.5 0 0 0 1 0v-.99l.12-.03 3.88-.97v.99a.5.5 0 0 0 1 0v-2.93a30.1 30.1 0 0 1 2-.07c5.52 0 10 1.49 10 3s-4.48 3-10 3-10-1.49-10-3c0-.61.75-1.22 2-1.73zm-2 12.73v-9.28c.5.41 1.18.77 2 1.07v9.93c-1.25-.51-2-1.12-2-1.73zm3 2v-9.87c.61.18 1.29.33 2 .45v9.98a18.39 18.39 0 0 1 -2-.48zm3-9.26c.64.09 1.31.15 2 .19v10a27.33 27.33 0 0 1 -2-.21zm3 10.24v-10c .33.01.66.02 1 .02s.67-.01 1-.02v10a30.46 30.46 0 0 1 -2 0zm3-10.05c.69-.04 1.36-.11 2-.19v9.99c-.64.09-1.3.16-2 .21zm3-.35a19.26 19.26 0 0 0 2-.45v9.95a18.44 18.44 0 0 1 -2 .48zm3 9.14v-9.93c.82-.31 1.5-.67 2-1.07v9.28c0 .61-.75 1.22-2 1.73z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Pool</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Kitchen' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m10.5 0a .5.5 0 0 0 -.5.5v7a .5.5 0 0 1 -.49.5h-1.51v-7.5a.5.5 0 1 0 -1 0v7.5h-1.51a.5.5 0 0 1 -.49-.5v-7a .5.5 0 1 0 -1 0v7c0 .83.67 1.5 1.49 1.5h1.51v5c0 .03.01.06.02.09a1.49 1.49 0 0 0 -1.02 1.41v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.66-.43-1.21-1.02-1.41.01-.03.02-.06.02-.09v-5h1.51a1.5 1.5 0 0 0 1.49-1.5v-7a .5.5 0 0 0 -.5-.5zm-2.5 15.5v7a .5.5 0 0 1 -.5.5.5.5 0 0 1 -.5-.5v-7c0-.28.22-.5.5-.5s.5.22.5.5zm11.5-15.5h-2c-1.4 0-2.5 1.07-2.5 2.5v7c0 1.43 1.1 2.5 2.5 2.5h1.5v2.09a1.49 1.49 0 0 0 -.5-.09c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-22.5zm-2 11c-.86 0-1.5-.63-1.5-1.5v-7c0-.87.65-1.5 1.5-1.5h1.5v10zm1.5 11.5a.5.5 0 0 1 -.5.5.5.5 0 0 1 -.5-.5v-7c0-.28.22-.5.5-.5s.5.22.5.5z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Kitchen</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Laptop friendly workspace' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m5.5 5h-.5v8h14v-8zm12.5 7h-12v-6h12zm5.9 6.69-.04-.05-.11-.14-.4-.51-1.2-1.55-1.15-1.47v-10.97a1 1 0 0 0 -.99-1h-16.02c-.55 0-.99.45-.99 1v10.95l-.19.24c-.6.76-1.2 1.53-1.76 2.26l-.16.21c-.29.37-.55.72-.79 1.04l-.1.13v.17c0 1.35.65 2 2 2h20c1.17 0 2-.71 2-2v-.17l-.11-.14zm-19.9-14.69h16.01c-.01 0-.01 7.92-.01 10h-16zm18 16h-20c-.73 0-.96-.2-.99-.85.21-.28.43-.56.66-.87l.16-.21a229.93 229.93 0 0 1 2.33-2.98l.07-.09h15.51l1.6 2.06 1.2 1.55a4708182.18 4708182.18 0 0 1 .42.54c-.05.59-.38.86-.98.86zm-7.52-3.62a.5.5 0 0 0 -.48-.38h-4a .5.5 0 0 0 -.49.38l-.5 2a .5.5 0 0 0 .49.62h5a .5.5 0 0 0 .49-.62l-.5-2zm-4.34 1.62.25-1h3.22l.25 1z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Laptop friendly workspace</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Iron' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m23.99 18.38-.5-2a .5.5 0 0 0 -.49-.38h-22a .5.5 0 0 0 -.49.38l-.5 2a .5.5 0 0 0 .49.62h23a .5.5 0 0 0 .49-.62zm-1.13-.38h-21.72l.25-1h21.22zm-21.36-3h21a .5.5 0 0 0 .5-.53c-.21-3.22-1.22-5.47-3-5.47a4911.8 4911.8 0 0 0 -8.8 0h-1.71c-.2 0-.26-.08-.19-.27a9.59 9.59 0 0 1 .17-.48c.13-.34.27-.68.43-1 .41-.79.82-1.25 1.1-1.25h10.5c.87 0 1.43-.7 1.4-1.52s-.64-1.48-1.55-1.48h-11.35c-3.84 0-7.29 4.4-8.99 11.38a.5.5 0 0 0 .49.62zm8.5-11h11.35c.35 0 .55.21.56.52.01.29-.14.48-.4.48h-10.51c-.8 0-1.42.68-1.99 1.8a10.74 10.74 0 0 0 -.65 1.61c-.31.82.23 1.59 1.13 1.59h1.71a33801.74 33801.74 0 0 1 8.8 0c .94 0 1.71 1.58 1.95 4h-19.8c1.65-6.21 4.7-10 7.85-10zm5 8a1 1 0 1 1 2 0 1 1 0 0 1 -2 0zm3 0a1 1 0 1 1 2 0 1 1 0 0 1 -2 0z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Iron</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Hangers' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m23.75 16.07-11.75-6.9v-1.23c1.08-.27 2-1.34 2-2.44a2.5 2.5 0 1 0 -5 0 .5.5 0 0 0 1 0 1.5 1.5 0 1 1 3 0c0 .72-.78 1.5-1.5 1.5a.5.5 0 0 0 -.5.5v1.77l-10.77 6.81a.48.48 0 0 0 -.23.41v.01c0 .26.19.51.5.51h23c .32 0 .51-.26.5-.52v-.01a.48.48 0 0 0 -.25-.41zm-21.52-.07 9.36-5.92 10.07 5.92z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Hangers</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Hair dryer' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m6.5 5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zm0 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm10.15-4.09a125.01 125.01 0 0 0 -1.43-.45 217.8 217.8 0 0 0 -3.98-1.21c-2.68-.78-4.51-1.23-5.24-1.25-3.43.04-6.01 2.28-6.01 5.5 0 2 .98 3.62 2.53 4.57 0 .02 0 .04.01.06.19.68.31 1.6.39 2.7a40.42 40.42 0 0 1 .05 4.17 2.01 2.01 0 0 0 2.03 2h2.03c1.25 0 1.97-.73 1.97-1.98 0-.07 0-.14 0-.31-.03-1.86.16-3.27.89-4.81a7.75 7.75 0 0 1 1-1.59.5.5 0 0 0 .09-.17 71.83 71.83 0 0 0 1.53-.4 97.27 97.27 0 0 0 4.15-1.24.5.5 0 0 0 .34-.48v-4.65a.5.5 0 0 0 -.35-.48zm-7.67 8.57c-.81 1.71-1.01 3.26-.98 5.25v.29c0 .7-.28.98-.97.98h-2.03c-.6 0-1.03-.48-1.03-.98a41.35 41.35 0 0 0 -.05-4.26 18.74 18.74 0 0 0 -.26-2.15c.71.25 1.5.39 2.33.39.85 0 2.05-.19 3.53-.51-.21.32-.39.65-.55.99zm7.02-6.98v3.17a96.43 96.43 0 0 1 -3.76 1.11 69.77 69.77 0 0 1 -1.72.45c-1.98.49-3.55.76-4.52.76-2.89 0-5-1.85-5-4.5 0-2.63 2.11-4.47 5.01-4.5.59.01 2.41.46 4.97 1.21a216.71 216.71 0 0 1 4.99 1.53l.04.01v.75zm7.92 3.1a1.91 1.91 0 0 1 -.42.46 1.97 1.97 0 0 1 -1.25.44c-.47 0-.8-.15-1.51-.57-.54-.33-.77-.43-.99-.43-.3 0-.55.05-.75.13a.91.91 0 0 0 -.19.09.5.5 0 0 1 -.62-.78c.09-.07.24-.16.44-.24a3.01 3.01 0 0 1 1.12-.2c.47 0 .8.15 1.51.57.54.33.77.43.99.43a.98.98 0 0 0 .63-.22.98.98 0 0 0 .2-.21.5.5 0 0 1 .85.53zm-5.81-2.95a.5.5 0 0 1 .08-.7c.09-.07.24-.16.44-.24a3.01 3.01 0 0 1 1.12-.2c.47 0 .8.15 1.51.57.54.33.77.43.99.43a.98.98 0 0 0 .63-.22.98.98 0 0 0 .2-.21.5.5 0 0 1 .85.53 1.91 1.91 0 0 1 -.42.46 1.97 1.97 0 0 1 -1.25.44c-.47 0-.8-.15-1.51-.57-.54-.33-.77-.43-.99-.43-.3 0-.55.05-.75.13a.91.91 0 0 0 -.19.09.5.5 0 0 1 -.7-.08z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Hair dryer</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Air conditioning' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m21.89 18a .5.5 0 0 1 -.68.18l-3.29-1.9.79 2.93a.5.5 0 0 1 -.97.26l-1.04-3.89-4.7-2.71v5.43l2.85 2.85a.5.5 0 1 1 -.71.71l-2.14-2.15v3.79a.5.5 0 1 1 -1 0v-3.79l-2.15 2.15a.5.5 0 1 1 -.71-.71l2.86-2.86v-5.43l-4.7 2.72-1.04 3.9a.5.5 0 1 1 -.97-.26l.79-2.93-3.28 1.9a.5.5 0 0 1 -.5-.87l3.28-1.9-2.93-.79a.5.5 0 0 1 -.35-.61.51.51 0 0 1 .61-.35l3.89 1.04 4.7-2.71-4.7-2.71-3.9 1.04a.5.5 0 0 1 -.61-.35.5.5 0 0 1 .35-.61l2.93-.79-3.28-1.9a.5.5 0 1 1 .5-.87l3.28 1.9-.78-2.93a.5.5 0 0 1 .97-.26l1.04 3.9 4.7 2.71v-5.42l-2.85-2.86a.5.5 0 1 1 .71-.71l2.14 2.15v-3.79a.5.5 0 1 1 1 0v3.79l2.15-2.15a.5.5 0 1 1 .71.71l-2.86 2.86v5.43l4.7-2.71 1.04-3.9a.5.5 0 1 1 .97.26l-.79 2.93 3.29-1.9a.5.5 0 1 1 .5.87l-3.29 1.89 2.93.79a.5.5 0 1 1 -.26.97l-3.89-1.05-4.7 2.71 4.7 2.71 3.9-1.05a.5.5 0 0 1 .26.97l-2.93.79 3.29 1.9a.5.5 0 0 1 .18.68z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Air conditioning</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Dryer' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m5 3.5a1.5 1.5 0 1 0 -3 0 1.5 1.5 0 0 0 3 0zm-1.5.5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm4 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm0-2a .5.5 0 1 1 0 1 .5.5 0 0 1 0-1zm4.5 3c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm0 15c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zm9.5-21h-19a2.51 2.51 0 0 0 -2.5 2.5v19c0 1.38 1.12 2.5 2.5 2.5h19c1.38 0 2.5-1.12 2.5-2.5v-19c0-1.38-1.12-2.5-2.5-2.5zm1.5 21.5c0 .83-.68 1.5-1.5 1.5h-19c-.83 0-1.5-.68-1.5-1.5v-19c0-.83.68-1.5 1.5-1.5h19c .83 0 1.5.68 1.5 1.5zm-6.17-6.12a.5.5 0 0 1 .04.71 2.49 2.49 0 0 1 -.63.48c-1.15.65-2.67.65-4.49-.38-1.52-.85-2.66-.85-3.51-.38a1.57 1.57 0 0 0 -.37.27.5.5 0 1 1 -.75-.66 2.49 2.49 0 0 1 .63-.48c1.15-.65 2.67-.65 4.49.38 1.52.85 2.66.85 3.51.38a1.57 1.57 0 0 0 .37-.27.5.5 0 0 1 .71-.04zm0-3.5a.5.5 0 0 1 .04.71 2.49 2.49 0 0 1 -.63.48c-1.15.65-2.67.65-4.49-.38-1.52-.85-2.66-.85-3.51-.38a1.57 1.57 0 0 0 -.37.27.5.5 0 1 1 -.75-.66 2.49 2.49 0 0 1 .63-.48c1.15-.65 2.67-.65 4.49.38 1.52.85 2.66.85 3.51.38a1.57 1.57 0 0 0 .37-.27.5.5 0 0 1 .71-.04z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Dryer</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Cable TV' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m21.5 6h-9.07l3.49-5.22a.5.5 0 1 0 -.83-.55l-3.86 5.77h-2.46l-3.85-5.78a.5.5 0 0 0 -.83.55l3.48 5.23h-5.07a2.5 2.5 0 0 0 -2.5 2.5v13c0 1.39 1.12 2.5 2.5 2.5h19c1.38 0 2.5-1.12 2.5-2.5v-13c0-1.38-1.12-2.5-2.5-2.5zm1.5 15.5c0 .83-.68 1.5-1.5 1.5h-19c-.83 0-1.5-.67-1.5-1.5v-13c0-.83.68-1.5 1.5-1.5h19c .83 0 1.5.67 1.5 1.5zm-6.49-12.5h-11.02a2.49 2.49 0 0 0 -2.49 2.49v7.02a2.5 2.5 0 0 0 2.49 2.49h11.02a2.49 2.49 0 0 0 2.49-2.49v-7.02a2.5 2.5 0 0 0 -2.49-2.49zm1.49 9.51c0 .82-.67 1.49-1.49 1.49h-11.02c-.82 0-1.49-.67-1.49-1.49v-7.02c0-.82.67-1.49 1.49-1.49h11.02c.82 0 1.49.67 1.49 1.49zm4-8.51a1 1 0 1 1 -2 0 1 1 0 0 1 2 0zm0 3a1 1 0 1 1 -2 0 1 1 0 0 1 2 0z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Cable TV</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Essentials' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m14.5 4h .5v-1.5c0-1.39-1.12-2.5-2.5-2.5h-.99a2.5 2.5 0 0 0 -2.51 2.5v1.5zm-4.5-1.5c0-.83.67-1.5 1.51-1.5h.99c.83 0 1.5.67 1.5 1.5v.5h-4zm5.5 2.5h-7a3.5 3.5 0 0 0 -3.5 3.49v12.01c0 1.93 1.57 3.5 3.5 3.5h7a3.5 3.5 0 0 0 3.5-3.49v-12.02c0-1.92-1.57-3.49-3.5-3.49zm2.5 15.51a2.5 2.5 0 0 1 -2.5 2.49h-7a2.5 2.5 0 0 1 -2.5-2.49v-12.02a2.5 2.5 0 0 1 2.5-2.49h7a2.5 2.5 0 0 1 2.5 2.49v12.01zm-1-11.01a.5.5 0 0 1 -.5.5h-9a .5.5 0 0 1 0-1h9a .5.5 0 0 1 .5.5z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Essentials</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
                {% if 'Heating' in Amenities %}
                    <div class="col-sm-3" align="center">
                        <div style="margin-bottom:16px">
                            <div class="_qtix31">
                                <div class="_ni9axhe">
                                    <div style="margin-right:8px">
                                        <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true"
                                             focusable="false"
                                             style="height: 2em; width: 2em; fill: currentcolor;">
                                            <path d="m16 13.54v-9.55a4 4 0 0 0 -4-3.99c-2.21 0-4 1.79-4 3.99v9.55a5.98 5.98 0 0 0 -2 4.46 6 6 0 1 0 12 0 5.98 5.98 0 0 0 -2-4.46zm-4 9.46a5 5 0 0 1 -3.18-8.86.5.5 0 0 0 .18-.39v-9.76a3 3 0 0 1 3-2.99c1.66 0 3 1.34 3 2.99v9.77a.5.5 0 0 0 .18.39 5 5 0 0 1 -3.18 8.85zm2-8.45v-10.54a2 2 0 1 0 -4 0v10.54a3.99 3.99 0 0 0 -2 3.45 4 4 0 0 0 8 0 3.99 3.99 0 0 0 -2-3.45zm-2 6.45a3 3 0 0 1 -1.29-5.71.5.5 0 0 0 .28-.45v-10.83a1 1 0 1 1 2 0v10.83a.5.5 0 0 0 .28.45 3 3 0 0 1 -1.27 5.71z"
                                                  fill-rule="evenodd"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="_ni9axhe">
                                    <div class="_ncwphzu" style="font-size:initial">Heating</div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}

            </div>
        </div>
        <hr align="left"><!--分隔符-->
        <div style="font-size: small"><br>
            {{ content }}
        </div>
        <br>
        <hr align="left"><!--分隔符-->
        <!--评论区 start-->
        <input align="left" type="hidden" value="{{ houseid }}" id="houseid">

        <div align="left" id="commentary">
        </div>

    </div>
    <div class="col-lg-6" style="height: 1000px">
        <div id="map"
             style="height: 800px;">
        </div>
        <br>
        <div class="go-top">
            <button class="btn  btn-xs"
                    style="height:100px;width:100%;background-color:dodgerblue;color:white;font-size: large"
                    data-toggle="modal" data-target="#get_owner_info">
                <b>Contact the owner now !</b>
            </button>
        </div>
    </div>
</div>

<div class="modal" id="login_dialog" align="center"><!--login dialog-->
    <div class="modal-dialog">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="width: 75%">
                <form class="form-signin" action="houseinfo1" method="get">
                    <img class="mb-4" src="https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg" alt=""
                         width="72" height="72">
                    <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <button type="button" class="btn btn-primary">
                                <span class="glyphicon glyphicon-user"></span>
                            </button>
                        </div>
                        <input name="email" type="text" class="form-control" placeholder="email" required>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <button type="button" class="btn btn-primary">
                                <span class="glyphicon glyphicon-lock"></span>
                            </button>
                        </div>
                        <input name="password" type="password" class="form-control" placeholder="password" required>
                    </div>
                    <input type="hidden" name="houseid" value="{{ houseid }}">
                    <br>
                    <button type="submit" class="btn btn-lg btn-primary btn-block"
                            style="color: #ffffff;font-size: large">Login
                    </button>
                    <button class="btn btn-lg btn-block" type="submit" data-dismiss="modal">
                        <a data-toggle="modal" data-target="#register_dialog" style="color: #ffffff;font-size: large">Sign
                            up</a></button>
                    <p class="mt-5 mb-3 text-muted">&copy; 2018-2019</p>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div><!--login dialog-->

<div class="modal" id="get_owner_info" align="center">
    <div class="modal-dialog">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="width: 75%" align="left">


                <h1 class="h3 mb-3 font-weight-normal">Property Owner Information</h1>
                <div class="form-group">

                        <label for="title" class="cols-sm-2 control-label">Username:&emsp;&emsp;{{ user_name }} </label>

<br>
                        <br>


                        <label for="price" class="cols-sm-2 control-label">Price:&emsp;&emsp;${{ price }}</label>

                        <br>
<br>
                        <!--Email address-->
                        <label class="cols-sm-2">Email:&emsp;&emsp;{{ post_email }} </label>

                        <br>
<br>
                        <!--Phone Number-->
                        <label name="phone" class="cols-sm-2 control-label">Mobile Phone Number: &emsp;&emsp;{{ phone_number }}</label>

                        <br>
<br>
                    </div>


                    <p class="mt-5 mb-3 text-muted">&copy; 2018-2019</p>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div> <!--show house dialog-->
    <!--modal-->
</div>

<script>
    function initMap() {
        mapDiv = document.getElementById('map');
        var latitude = parseFloat(document.getElementById('latitude').value);
        var longitude = parseFloat(document.getElementById('longitude').value);
        map = new google.maps.Map(mapDiv, {
            //set center of map on load
            center: {lat: latitude, lng: longitude},
            //set zoom, lower number means zoom out, and vice versa
            zoom: 7,
            //you can set map type to roadmap, terrain, satellite, or hybrid
            mapTypeId: 'terrain',
            //If you plan to move a control on the screen
            //it is recommened to set that control to true to always show
            mapTypeControl: true,
            //this sets the position, go to docs to see other positions
            mapTypeControlOptions: {
                position: google.maps.ControlPosition.TOP_LEFT
            },
            //same as before, just different controls
            fullscreenControl: true,
            fullscreenControlOptions: {
                position: google.maps.ControlPosition.LEFT_TOP
            },
            streetViewControl: true,
            streetViewControlOptions: {
                position: google.maps.ControlPosition.LEFT_TOP
            },
            zoomControl: true,
            zoomControlOptions: {
                position: google.maps.ControlPosition.LEFT_TOP
            }
        });
        //for Autocomplete search
        geocoder = new google.maps.Geocoder();
        var marker = new google.maps.Marker({
            position: {lat: latitude, lng: longitude},
            map: map
        });
        //center map to marker clicked
        marker.addListener('click', function () {
            //this refers to the marker that is clicked
            map.setCenter(this.getPosition());
        });
        //center the map to the marker position
        map.setCenter(marker.getPosition());
    }

    function load_content(id, url) {
        $('#' + id).load(url);
    }

    function add_comment(node, url) {
        if (node.firstElementChild.className === "glyphicon glyphicon-chevron-down") {
            var data;
            $.ajax({
                async: false,
                type: "GET",
                url: url,
                success: function (temp) {
                    data = temp;
                }
            });
            node.firstElementChild.className = "glyphicon glyphicon-chevron-up";
            node.parentElement.parentElement.lastElementChild.innerHTML += data;
            return data;
        } else {
            node.parentElement.parentElement.lastElementChild.innerHTML = '';
            node.previousElementSibling.removeAttribute('disabled');
            node.firstElementChild.className = "glyphicon glyphicon-chevron-down";
        }

    }

    function reply(node) {
        node.disabled = 'disabled';
        var tmp = node.parentElement.parentElement.lastElementChild;
        tmp.innerHTML = '<div class="form-group"style="margin-left: 5px;padding-top: 5px; width:calc(100% - 10px);border:1px solid #cceff5;background:#fafcfd;">'
            + '<label for="comment">Comment:</label>'
            + '<textarea class="form-control" rows="3" id="comment"></textarea></div>'
            + '<div align="right" style="margin-right: 5px;">'
            + '<button type="button" class="btn btn-submit" onclick="reply_1(this)">post</button></div>' + tmp.innerHTML;
    }

    function reply_1(node) {
        var comment_id = node.parentElement.parentElement.parentElement.id;
        var house_id = document.getElementById('houseid').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var comment = node.parentElement.previousElementSibling.firstElementChild.nextElementSibling.value.replace(' ', '+');
        var url = 'reply_comment?email=' + email
            + '&password=' + password
            + '&comment_id=' + comment_id
            + '&house_id=' + house_id
            + '&comment_content=' + comment;
        $.ajax({
            async: false,
            type: "GET",
            url: url,
            success: function (temp) {
                alert('post success');
            }
        });
        var data;
        url = 'get_comment?comment_id=' + comment_id
            + '&house_id=' + document.getElementById('houseid').value;
        $.ajax({
            async: false,
            type: "GET",
            url: url,
            success: function (temp) {
                data = temp;
            }
        });
        node.parentElement.parentElement.previousElementSibling.firstElementChild.removeAttribute('disabled');
        node.parentElement.parentElement.previousElementSibling
            .lastElementChild.firstElementChild.className = "glyphicon glyphicon-chevron-up";
        node.parentElement.parentElement.innerHTML = data;
    }

    function reply_2(node, url) {
        $.ajax({
            async: false,
            type: "GET",
            url: url,
            success: function (temp) {
                alert('post success');
            }
        });
        load_content('commentary',
            '/get_comment?cur_page=1&comment_id=-1&house_id='
            + document.getElementById('houseid').value
            + "&email=" + document.getElementById('email').value
            + "&password=" + document.getElementById('password').value);
    }

    function del_comment(node, url) {
        $.ajax({
            async: false,
            type: "GET",
            url: url,
            success: function (temp) {
            }
        });
        var tmp = node.parentElement;
        tmp.parentElement.remove(tmp);
    }

    load_content('commentary',
        '/get_comment?cur_page=1&comment_id=-1&house_id='
        + document.getElementById('houseid').value
        + "&email=" + document.getElementById('email').value
        + "&password=" + document.getElementById('password').value);


</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBLCi0u9QNKIwBXcQcBHLtAMzUO7ARugjI&libraries=places&callback=initMap"
        type="text/javascript">
</script>
</body>
</html>